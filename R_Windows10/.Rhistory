ylab("")
US2 <- ggplot(us_adult_females_trunc, aes(height_cm))+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="white" , color="darkred")+
geom_density(kernel="gaussian", aes(height_cm), bw=5)+
xlab("bw=5")+
ylab("")
US3 <- ggplot(us_adult_females_trunc, aes(height_cm))+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="white" , color="darkred")+
geom_density(kernel="gaussian", aes(height_cm), bw=10)+
xlab("bw=10")+
ylab("")
US4 <- ggplot(us_adult_females_trunc, aes(height_cm))+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="white" , color="darkred")+
geom_density(kernel="gaussian", aes(height_cm), bw=20)+
xlab("bw=20")+
ylab("")
plot_grid(US1, US2, US3, US4, labels=c("Female Height in the US"), label_size = 12,hjust=-1, vjust=0.2) +
theme(plot.margin = margin(10, 10, 10, 25))
ggsave("Week3/14.310x/data/output/US_kerneltries.pdf")
# combining the two histograms
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(data=bihar_adult_females_trunc, aes(height_cm),fill="blue", color="darkblue" )+
geom_histogram(data=us_adult_females_trunc, aes(height_cm), fill="red", color="darkred" )
# makes no sense to do it as count!
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(data=bihar_adult_females_trunc, aes(height_cm, ..density.. ),fill="blue", color="darkblue")+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="red", color="darkred" )+
xlab("Height in centimeters")
# more visible as points
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_freqpoly(data=bihar_adult_females_trunc, aes(height_cm, ..density.. ), color="darkblue" )+
geom_freqpoly(data=us_adult_females_trunc, aes(height_cm , ..density..),  color="darkred" )+
xlab("Height in centimeters")
ggsave("Week3/14.310x/data/output/comparehistograms.pdf")
# kernel density
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_density(data=bihar_adult_females_trunc, aes(height_cm), color="darkblue" )+
geom_density(data=us_adult_females_trunc, aes(height_cm),  color="darkred" )+
xlab("Height in centimeters")
ggsave("Week3/14.310x/data/output/heightkernel.pdf")
# representing the CDF
ggplot(bihar_adult_females_trunc, aes(height_cm))+
stat_ecdf(data=bihar_adult_females_trunc, aes(height_cm), color="darkblue" )+
stat_ecdf(data=us_adult_females_trunc, aes(height_cm),  color="darkred" )+
xlab("Height in centimeters")
ggsave("Week3/14.310x/data/output/heightcdf.pdf")
ggplot(us_adult_females_trunc, aes(height_cm))+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="white" , color="darkred")+
geom_density(kernel="gaussian", aes(height_cm))
print(us_adult_females_trunc)
print(bihar_adult_females)
print(bihar_data)
ggplot(bihar_adult_females, aes(height_cm))+
geom_histogram()
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="blue", color="darkblue")+
xlab("Height in centimeters, Bihar Females")
ggplot(bihar_adult_females, aes(height_cm))+
geom_histogram()
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="blue", color="darkblue")+
xlab("Height in centimeters, Bihar Females")
# default histogram in ggplot
ggplot(bihar_adult_females, aes(height_cm))+
geom_histogram()
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="blue", color="darkblue")+
xlab("Height in centimeters, Bihar Females")
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="blue", color="darkblue", binwidth = 5)+
xlab("bin width=5")+
ylab("")
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="blue", color="darkblue", binwidth = 10)+
xlab("bin width=10")+
ylab("")
plot_grid(bihar1, bihar2, bihar3, bihar4, labels =c("Female Height in Bihar"), label_size = 12, hjust=0, vjust=0.2) +
theme(plot.margin = margin(10, 10, 10, 25))
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="blue", color="darkblue", binwidth = 20)+
xlab("bin width=20")+
ylab("")
ggplot(us_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="red", color="darkred")+
xlab("Height in centimeters, US females")
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="blue", color="darkblue", binwidth = 10)+
xlab("bin width=10")+
ylab("")
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="blue", color="darkblue")+
xlab("Height in centimeters, Bihar Females")
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="blue", color="darkblue", binwidth = 5)+
xlab("bin width=5")+
ylab("")
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="blue", color="darkblue", binwidth = 10)+
xlab("bin width=10")+
ylab("")
2 * IQR(bihar2) / length(bihar2)^(1/3)
2 * IQR(bihar2) / length(bihar2)^(1/3)
2 * IQR(bihar_adult_females_trunc) / length(bihar_adult_females_trunc)^(1/3)
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="blue", color="darkblue", binwidth = 5)+
xlab("bin width=5")+
ylab("")
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="blue", color="darkblue", binwidth = 1)+
xlab("bin width=5")+
ylab("")
View(bihar_adult_females_trunc)
ggplot(us_adult_females_trunc, aes(height_cm))+
geom_histogram(fill="red", color="darkred")+
xlab("Height in centimeters, US females")
ggplot(us_adult_females_trunc, aes(height_cm))+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="white" , color="darkred")+
geom_density(kernel="gaussian", aes(height_cm))
ggplot(us_adult_females_trunc, aes(height_cm))+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="white" , color="darkred")+
geom_density(kernel="gaussian", aes(height_cm), bw=1)+
xlab("bw=1")+
ylab("")
ggplot(us_adult_females_trunc, aes(height_cm))+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="white" , color="darkred")+
geom_density(kernel="gaussian", aes(height_cm))
ggplot(us_adult_females_trunc, aes(height_cm))+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="white" , color="darkred")+
geom_density(kernel="gaussian", aes(height_cm), bw=1)+
xlab("bw=1")+
ylab("")
ggplot(us_adult_females_trunc, aes(height_cm))+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="white" , color="darkred")+
geom_density(kernel="gaussian", aes(height_cm))
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(data=bihar_adult_females_trunc, aes(height_cm),fill="blue", color="darkblue" )+
geom_histogram(data=us_adult_females_trunc, aes(height_cm), fill="red", color="darkred" )
plot_grid(US1, US2, US3, US4, labels=c("Female Height in the US"), label_size = 12,hjust=-1, vjust=0.2) +
theme(plot.margin = margin(10, 10, 10, 25))
plot_grid(bihar1, bihar2, bihar3, bihar4, labels =c("Female Height in Bihar"), label_size = 12, hjust=0, vjust=0.2) +
theme(plot.margin = margin(10, 10, 10, 25))
plot_grid(US1, US2, US3, US4, labels=c("Female Height in the US"), label_size = 12,hjust=-1, vjust=0.2) +
theme(plot.margin = margin(10, 10, 10, 25))
ggplot(us_adult_females_trunc, aes(height_cm))+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="white" , color="darkred")+
geom_density(kernel="gaussian", aes(height_cm))
ggplot(us_adult_females_trunc, aes(height_cm))+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="white" , color="darkred")+
geom_density(kernel="gaussian", aes(height_cm), bw=20)+
xlab("bw=20")+
ylab("")
plot_grid(US1, US2, US3, US4, labels=c("Female Height in the US"), label_size = 12,hjust=-1, vjust=0.2) +
theme(plot.margin = margin(10, 10, 10, 25))
ggplot(bihar_adult_females_trunc, aes(height_cm))+
stat_ecdf(data=bihar_adult_females_trunc, aes(height_cm), color="darkblue" )+
stat_ecdf(data=us_adult_females_trunc, aes(height_cm),  color="darkred" )+
xlab("Height in centimeters")
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_density(data=bihar_adult_females_trunc, aes(height_cm), color="darkblue" )+
geom_density(data=us_adult_females_trunc, aes(height_cm),  color="darkred" )+
xlab("Height in centimeters")
ggplot(bihar_adult_females_trunc, aes(height_cm))+
stat_ecdf(data=bihar_adult_females_trunc, aes(height_cm), color="darkblue" )+
stat_ecdf(data=us_adult_females_trunc, aes(height_cm),  color="darkred" )+
xlab("Height in centimeters")
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(data=bihar_adult_females_trunc, aes(height_cm, ..density.. ),fill="blue", color="darkblue")+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="red", color="darkred" )+
xlab("Height in centimeters")
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(data=bihar_adult_females_trunc, aes(height_cm),fill="blue", color="darkblue" )+
geom_histogram(data=us_adult_females_trunc, aes(height_cm), fill="red", color="darkred" )
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(data=bihar_adult_females_trunc, aes(height_cm, ..density.. ),fill="blue", color="darkblue")+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="red", color="darkred" )+
xlab("Height in centimeters")
ggplot(bihar_adult_females_trunc, aes(height_cm))+
geom_histogram(data=bihar_adult_females_trunc, aes(height_cm, ..density.. ),fill="blue", color="darkblue")+
geom_histogram(data=us_adult_females_trunc, aes(height_cm , ..density..), fill="red", color="darkred" )+
xlab("Height in centimeters")
ggplot(bihar_adult_females_trunc, aes(height_cm))+
stat_ecdf(data=bihar_adult_females_trunc, aes(height_cm), color="darkblue" )+
stat_ecdf(data=us_adult_females_trunc, aes(height_cm),  color="darkred" )+
xlab("Height in centimeters")
gender_stats <- read.csv("Week3/14.310x/Homework3/Gender_StatsData.csv", header = TRUE)
View(gender_stats)
gender_stats_t <- read.table("Week3/14.310x/Homework3/gender_stats_t.txt", sep=",", header = TRUE)
# import the dataset
gender_stats <- read.csv("Week3/14.310x/Homework3/Gender_StatsData.csv", header = TRUE)
gender_stats_t <- read.table("Week3/14.310x/Homework3/gender_stats_t.txt", sep=",", header = TRUE)
# import the dataset
gender_stats <- read.csv("Week3/14.310x/Homework3/Gender_StatsData.csv", header = TRUE)
gender_stats_t <- read.table("gender_stats_t.txt", sep=",", header = TRUE)
# check data
max(gender_stats)
# import the dataset
gender_stats <- read.csv("Week3/14.310x/Homework3/Gender_StatsData.csv", header = TRUE)
# check data
max(gender_stats)
View(gender_stats)
# check data
gender_stats
rm(list=ls())
library("utils")
library("tidyverse")
# import the dataset
gender_stats <- read.csv("Week3/14.310x/Homework3/Gender_StatsData.csv", header = TRUE)
# check data
gender_stats
gender_data <- as_tibble(read.csv("Gender_StatsData.csv"))
gender_data <- as_tibble(read.csv("Week3/14.310x/Homework3/Gender_StatsData.csv"))
View(gender_data)
gender_data <- as_tibble(read.csv("Week3/14.310x/Homework3/Gender_StatsData_F.csv"))
View(gender_data)
# check data
gender_data
teenager_fr <- filter(gender_data, Indicator.Code == "SP.ADO.TFRT")
teenager_fr <- filter(gender_stats, Indicator.Code == "SP.ADO.TFRT")
View(teenager_fr)
View(gender_data)
mean(teenager_fr$X1975, na.rm = TRUE)
# the sample mean of the Adolescent Fertility Rate in 1975
mean(teenager_fr$X1960, na.rm = TRUE)
sd(teenager_fr$X1960, na.rm = TRUE)
# the sample mean of the Adolescent Fertility Rate in 1975
mean(teenager_fr$2000, na.rm = TRUE)
# the sample mean of the Adolescent Fertility Rate in 1975
mean(teenager_fr$X2000, na.rm = TRUE)
sd(teenager_fr$X2000, na.rm = TRUE)
byincomelevel <- filter(teenager_fr,Country.Code%in%c("LIC","MIC","HIC", "WLD"))
View(byincomelevel)
byincomelevel<-colnames(byincomelevel)[1]="Country.Names")
gather(byincomelevel, correct, correct, correct) %>%
select(Year, Country.Name, Country.Code, FertilityRate)
plotdata_bygroupyear <- gather(byincomelevel, correct, correct, correct) %>%
select(Year, Country.Name, Country.Code, FertilityRate)
plotdata_bygroupyear <- gather(byincomelevel, Year, FertilityRate, X1960:X2015) %>%
select(Year, Country.Name, Country.Code, FertilityRate)
gather(byincomelevel, Year, FertilityRate, X1960:X2015) %>%
select(Year, Country.Name, Country.Code, FertilityRate)
View(plotdata_bygroupyear)
plotdata_byyear<-select(plotdata_bygroupyear, Country.Code, Year, FertilityRate) %>%
spread(correct, correct)
plotdata_byyear<-select(plotdata_bygroupyear, Country.Code, Year, FertilityRate) %>%
spread(Country.Code, FertilityRate)
select(plotdata_bygroupyear, Country.Code, Year, FertilityRate) %>%
spread(Country.Code, FertilityRate)
ggplot(plotdata_bygroupyear, aes(x = correct , y = correct, group = correct)) + geom_line()
ggplot(plotdata_bygroupyear, aes(x = Year , y = FertilityRate, group = Country.Code)) + geom_line()
ggplot(plotdata_bygroupyear, aes(x = Year , y = FertilityRate, group = Country.Code I) II) + III + geom_line(IV)V
plotdata_bygroupyear <- mutate(plotdata_bygroupyear, Year=as.numeric(str_sub(Year,2,5)))
mutate(plotdata_bygroupyear, Year=as.numeric(str_sub(Year,2,5)))
histdata_twoyears <- select(teenager_fr, Country.Name, Country.Code, Indicator.Name, Indicator.Code, X1960,X2000)
select(teenager_fr, Country.Name, Country.Code, Indicator.Name, Indicator.Code, X1960,X2000)
histdata_twoyears <- gather(teenager_fr, Year, FertilityRate, X1960, X2000) %>%
select(Year, Country.Name, Country.Code, FertilityRate)
gather(teenager_fr, Year, FertilityRate, X1960, X2000) %>%
select(Year, Country.Name, Country.Code, FertilityRate)
ggplot(histdata_twoyears, aes(x=FertilityRate)) +
geom_histogram(data=subset(histdata_twoyears, Year=="X1960"),
color="darkred", fill="red", alpha=0.2) +
geom_histogram(data=subset(histdata_twoyears, Year=="X2000"),
color="darkblue", fill="blue", alpha=0.2)
ggsave("hist.png")
ggplot(histdata_twoyears, aes(x=FertilityRate, group=Year, color=Year, alpha=0.2)) +
geom_histogram(aes(y=..density..)) +
geom_density(data=subset(histdata_twoyears, Year=="X1960"), color="darkred", fill="red", alpha=0.2, bw=5)+
geom_density(data=subset(histdata_twoyears, Year=="X2000"), color="darkblue", fill="blue", alpha=0.2, bw=5)
ggplot(histdata_twoyears, aes(x=FertilityRate)) +
geom_histogram(data=subset(histdata_twoyears, Year=="X1960"),
color="darkred", fill="red", alpha=0.2) +
geom_histogram(data=subset(histdata_twoyears, Year=="X2000"),
color="darkblue", fill="blue", alpha=0.2)
ggplot(histdata_twoyears, aes(x=FertilityRate, group=Year, color=Year, alpha=0.2)) +        geom_histogram(aes(y=..density..)) +
geom_density(data=subset(histdata_twoyears, Year=="X1960"), color="darkred", fill="red", alpha=0.2, bw=5)+
geom_density(data=subset(histdata_twoyears, Year=="X2000"), color="darkblue", fill="blue", alpha=0.2, bw=5)
ggplot(histdata_twoyears, aes(x=FertilityRate, group=Year, color=Year, alpha=0.2)) +
geom_histogram(aes(y=..density..)) +
geom_density(data=subset(histdata_twoyears, Year=="X1960"), color="darkred", fill="red", alpha=0.2, bw=5)+
geom_density(data=subset(histdata_twoyears, Year=="X2000"), color="darkblue", fill="blue", alpha=0.2, bw=5)
ggplot(histdata_twoyears, aes(x=FertilityRate, group=Year, color=Year, alpha=0.2)) +        geom_histogram(aes(y=..density..)) +
geom_density(data=subset(histdata_twoyears, Year=="X1960"), color="darkred", fill="red", alpha=0.2, bw=5)+
geom_density(data=subset(histdata_twoyears, Year=="X2000"), color="darkblue", fill="blue", alpha=0.2, bw=5)
library("utils")
#install.packages('plot3D')
library(plot3D)
install.packages("plot3D")
library("utils")
#install.packages('plot3D')
library(plot3D)
M <- mesh(seq(0,1,length=100), seq(0,1,length=100))
x<-M$x
y<-M$y
z<-6/5*(M$x+M$y^2)
persp3D(x, y, z, xlab='X variable', ylab= 'Y variable', xlim = c(01), main= "Plotting joint pdf')")
persp3D(x, y, z, xlab='X variable', ylab= 'Y variable', xlim = c(0,1), main= "Plotting joint pdf")
persp3D(x, y, z, xlab='X variable', ylab= 'Y variable', xlim = c(0,1), main= "Plotting joint pdf')")
persp3D(x, y, z, xlab='X variable', ylab= 'Y variable', xlim = c(0,1), main= "Plotting joint pdf")
rm(list=ls())
library("utils")
#install.packages('plot3D')
library(plot3D)
#Creating the vector x and y
M <- mesh(seq(0,1,length=100), seq(0,1,length=100))
x<-M$x
y<-M$y
z<-6/5*(M$x+M$y^2)
#Plotting this pdf
persp3D(x, y, z, xlab='X variable', ylab= 'Y variable', xlim = c(0,1), main= "Plotting joint pdf")
#HW3
install.packages("dummies")
install.packages("AER")
library(dummies)
library(AER)
inpres = read.csv('Week3/14.740x/data/inpres_data_corrected.csv')
View(inpres)
summary(inpres)
str(inpres)
summary(lm(log_wage~education, data=data))
summary(lm(log_wage~education, data=inpres))
plot(inpres$education, inpres$log_wage)
glm(log_wage ~ education, data = inpres)
inpres$treated = ifelse(inpres$birth_year >= 68, 1, 0)
summary(inpres)
inpres$treated = ifelse(inpres$birth_year >= 68, 1, 0)
summary(inpres)
summary(inpres)
inpres = read.csv('Week3/14.740x/data/inpres_data_corrected.csv')
summary(inpres)
str(inpres)
plot(inpres$education, inpres$log_wage)
model1 = glm(log_wage ~ education, data = inpres)
summary(model1)
inpres$treated = ifelse(inpres$birth_year >= 68, 1, 0)
summary(inpres)
inprestreated = ifelse(inpres$birth_year >= 68, 1, 0)
summary(inprestreated)
View(inpres)
ifelse(inpres$birth_year >= 68, 1, 0)
filter(inpres$birth_year >= 68)
inprestreated = filter(.data = inpres$birth_year >= 68)
ifelse(inpres$birth_year >= 68, 1, 0)
parsedinpres <- filter(inpres, birth_year >= 68)
View(parsedinpres)
filter(inpres, birth_year >= 68)
summary(parsedinpres)
inpres = read.csv('Week3/14.740x/data/inpres_data_corrected.csv')
summary(inpres)
parsedinpres <- filter(inpres, birth_year >= 68)
summary(parsedinpres)
inprestreated = ifelse(inpres$birth_year >= 68, 1, 0)
summary(inprestreated)
ifelse(inpres$birth_year >= 68, 1, 0)
inpres$treated = ifelse(inpres$birth_year >= 68, 1, 0)
summary(inpres)
View(inpres)
summary(inpres$treated>0)
mean(inpres[inpres$treated=0,"older"])
mean(inpres[inpres$treated>0,"older"])
youngerinpres <-as.numeric(inpres$treated, rm="0")
mean(youngerinpres)
younger <- inpres[ which(inpres$treated=='1'
]
,]
younger <- inpres[ which(inpres$treated=='1']
younger <- inpres[ which(inpres$treated=='1',]
# Read in the data
data <- read.csv("ted_miguel_worms.csv")
inpres = read.csv('Week3/14.740x/data/inpres_data_corrected.csv')
summary(inpres)
str(inpres)
plot(inpres$education, inpres$log_wage)
model1 = glm(log_wage ~ education, data = inpres)
summary(model1)
inpres$treated = ifelse(inpres$birth_year >= 68, 1, 0)
View(inpres)
inpres$treated, na.rm=0
mean(inpres$treated, na.rm=0)
mean(inpres$treated, na.rm=1)
df[!grepl("0", inpres$treated),]
younger <- inpres[inpres$treated == 0,]
inpres = read.csv('Week3/14.740x/data/inpres_data_corrected.csv')
summary(inpres)
str(inpres)
plot(inpres$education, inpres$log_wage)
model1 = glm(log_wage ~ education, data = inpres)
summary(model1)
inpres$treated = ifelse(inpres$birth_year >= 68, 1, 0)
summary(inpres$treated>0)
View(inpres)
older <- inpres[inpres$treated == 0,]
younger <- inpres[inpres$treated == 1,]
View(inpres)
View(younger)
View(older)
mean(older)
summary(older)
View(older)
View(younger)
older_control <- inpres[inpres$high_intensity == 0,]
summary(older_control)
View(older_control)
younger_control <- inpres[inpres$high_intensity == 0,]
older <- inpres[inpres$treated == 0,]
older_control <- inpres[inpres$high_intensity == 0,]
older_treated <- inpres[inpres$high_intensity == 1,]
summary(older)
summary(older_control)
summary(younger_control)
younger <- inpres[inpres$treated == 1,]
younger_control <- inpres[inpres$high_intensity == 0,]
younger_treated <- inpres[inpres$high_intensity == 1,]
summary(younger)
older_control <- inpres[inpres$high_intensity == 0,]
older_treated <- inpres[inpres$high_intensity == 1,]
summary(older)
summary(older_control)
summary(older_treated)
younger <- inpres[inpres$treated == 1,]
younger_control <- inpres[inpres$high_intensity == 0,]
younger_treated <- inpres[inpres$high_intensity == 1,]
summary(younger)
summary(younger_control)
summary(younger_treated)
View(older)
summary(inpres)
mean(inpres$treated, na.rm=1)
mean(older_treated$education, na.rm=0)
mean(younger_treated$education, na.rm=0)
older <- inpres[inpres$treated == 0,]
older_control <- inpres[inpres$high_intensity == 0,]
older_treated <- inpres[inpres$high_intensity == 1,]
older <- inpres[inpres$treated == 0,]
older_control <- older[older$high_intensity == 0,]
older_treated <- older[older$high_intensity == 1,]
summary(older)
summary(older_control)
summary(older_treated)
mean(older_treated$education, na.rm=0)
younger <- inpres[inpres$treated == 1,]
younger_control <- younger[younger$high_intensity == 0,]
younger_treated <- inpres[younger$high_intensity == 1,]
summary(younger)
summary(younger_control)
summary(younger_treated)
sd(younger_control)
summary(younger_treated, na.rm=0)
sd(younger_control, na.rm=0)
# Read in the data
data <- read.csv("Week3/14.740x/data/inpres_data_corrected.csv")
# OLS regression
summary(lm(log_wage~education, data=data))
# DD Tables: Education
data$exposed <- data$birth_year>67
mean(data[data$high_intensity==0&data$exposed==FALSE,"education"])
# DD Tables: Education
data$exposed <- data$birth_year>=68
View(data)
mean(data[data$high_intensity==0&data$exposed==FALSE,"education"])
mean(data[data$high_intensity==0&data$exposed==TRUE,"education"])
mean(data[data$high_intensity==1&data$exposed==FALSE,"education"])
mean(data[data$high_intensity==1&data$exposed==TRUE,"education"])
# DD Tables: Wages
mean(data[data$high_intensity==0&data$exposed==FALSE,"log_wage"])
mean(data[data$high_intensity==0&data$exposed==TRUE,"log_wage"])
mean(data[data$high_intensity==1&data$exposed==FALSE,"log_wage"])
mean(data[data$high_intensity==1&data$exposed==TRUE,"log_wage"])
# DD by regression
data$exp_int <- data$exposed*data$high_intensity
View(data)
summary(lm(education~exp_int+exposed+high_intensity, data=data))
summary(lm(log_wage~exp_int+exposed+high_intensity, data=data))
# IV version
summary(ivreg(log_wage~education+exposed+high_intensity|exp_int+exposed+high_intensity, data=data))
# Q7
0.001172/0.07636
# Q10
# Run the DD regressions for estimating the impact of the program on education.
# Run the DD regression for estimating the impact of the program on log earnings.
# Using the resulting output,
# what is the Wald estimate of the effect of education on log earnings, using INPRES exposure as the instrument?
round(0.001172/0.07636, digits = 3)
# IV version
summary(ivreg(log_wage~education+exposed+high_intensity|exp_int+exposed+high_intensity, data=data))
View(data)
# Better instrument and controls
rgns <- dummy(data$birth_region)
View(rgns)
byrs <- dummy(data$birth_year)
ivdat <- data.frame(rgns,byrs)
ivdat$log_wage <- data$log_wage
ivdat$education <- data$education
ivdat$exp_nsch <- data$exposed * data$num_schools
ivdat$ch_exp <- data$children71 * data$exposed
# IV Regression
ivreg(log_wage~.-exp_nsch|.-education,data=ivdat)
View(ivdat)
View(ivdat)
View(ivdat)
# IV Regression
ivreg(log_wage~.-exp_nsch|.-education,data=ivdat)
View(data)
# IV Regression
ivreg(log_wage~.-exp_nsch|.-education,data=ivdat)
data$children71 * data$exposed
View(ivdat)
data$children71
# IV Regression
summary(ivreg(log_wage~.-exp_nsch|.-education,data=ivdat))
.?
# IV Regression
summary(ivreg(log_wage~.-exp_nsch|.-education,data=ivdat))
